import { XYZtoRGB } from "../../src/conversions/xyz";

describe("XYZtoRGB", () => {
  test.each`
    name         | input                                                                                | expected
    ${"Black"}   | ${{ x: 0, y: 0, z: 0, a: 1 }}                                                        | ${[0, 0, 0, 1]}
    ${"White"}   | ${{ x: 0.9642956660812443, y: 1.0000000361162846, z: 0.8251045485672053, a: 1 }}     | ${[255, 255, 255, 1]}
    ${"Red"}     | ${{ x: 0.43606574282481103, y: 0.2224931917562371, z: 0.01392390450094348, a: 1 }}   | ${[255, 0, 0, 1]}
    ${"Lime"}    | ${{ x: 0.3851514688337912, y: 0.7168870538238823, z: 0.09708128566574631, a: 1 }}    | ${[0, 255, 0, 1]}
    ${"Blue"}    | ${{ x: 0.14307845442264197, y: 0.0606197905361654, z: 0.7140993584005155, a: 1 }}    | ${[0, 0, 255, 1]}
    ${"Yellow"}  | ${{ x: 0.8212172116586023, y: 0.9393802455801193, z: 0.11100519016668979, a: 1 }}    | ${[255, 255, 0, 1]}
    ${"Cyan"}    | ${{ x: 0.5282299232564333, y: 0.7775068443600475, z: 0.8111806440662618, a: 1 }}     | ${[0, 255, 255, 1]}
    ${"Magenta"} | ${{ x: 0.579144197247453, y: 0.28311298229240256, z: 0.728023262901459, a: 1 }}      | ${[255, 0, 255, 1]}
    ${"Silver"}  | ${{ x: 0.5082948312439859, y: 0.5271151447432529, z: 0.4349250878384406, a: 1 }}     | ${[192, 192, 192, 1]}
    ${"Gray"}    | ${{ x: 0.20815334473796296, y: 0.21586050790997852, z: 0.17810748049997002, a: 1 }}  | ${[128, 128, 128, 1]}
    ${"Maroon"}  | ${{ x: 0.09412936932870267, y: 0.04802749164443902, z: 0.003005620989111833, a: 1 }} | ${[128, 0, 0, 1]}
    ${"Olive"}   | ${{ x: 0.17726835801076773, y: 0.20277508960804203, z: 0.02396163586462015, a: 1 }}  | ${[128, 128, 0, 1]}
    ${"Green"}   | ${{ x: 0.08313898868206505, y: 0.15474759796360302, z: 0.020956014875508317, a: 1 }} | ${[0, 128, 0, 1]}
    ${"Purple"}  | ${{ x: 0.1250143560558979, y: 0.0611129099463755, z: 0.15715146562446167, a: 1 }}    | ${[128, 0, 128, 1]}
    ${"Teal"}    | ${{ x: 0.1140239754092603, y: 0.16783301626553948, z: 0.1751018595108582, a: 1 }}    | ${[0, 128, 128, 1]}
    ${"Navy"}    | ${{ x: 0.03088498672719523, y: 0.013085418301936479, z: 0.15414584463534986, a: 1 }} | ${[0, 0, 128, 1]}
  `("$name", ({ input, expected }) => {
    expect(Object.values(XYZtoRGB(input)).map((val) => Math.abs(Math.round(val)))).toEqual(expected);
  });
});
